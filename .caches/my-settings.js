!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i(15);t.Read=((e,...i)=>n(this,void 0,void 0,function*(){return yield t.Exec(e,"defaults","read",...i)})),t.Write=((e,...i)=>n(this,void 0,void 0,function*(){return yield t.Exec(e,"defaults","write",...i)})),t.Delete=((e,...i)=>n(this,void 0,void 0,function*(){try{return yield t.Exec(e,"defaults","delete",...i)}catch(e){return e}})),t.Reset=((e,i)=>n(this,void 0,void 0,function*(){return yield t.Exec(e,"killall",i)})),t.Exec=((e,t,...i)=>n(this,void 0,void 0,function*(){return e.debug(`Execute: ${t} ${i.join(" ")}`),yield o(t,i)}))},function(e){e.exports=require("chalk")},function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(i(14)),c=o(i(1));t.Ask=((e,t)=>{const i={},o=t.map(e=>{i[e.name.toString()]=e.action;const t=e.help;let n=!1;return e.onRender=function(){n||console.log(c.default`{redBright.bold Help}: {grey ${t}}`),n=!0},delete e.action,delete e.help,e});return a.default(o,{onCancel:(t,i)=>n(this,void 0,void 0,function*(){const n=t.name.toString();e.log(`User cancel on ${n} prompt with input is ${JSON.stringify(i)}`)}),onSubmit:(t,o)=>n(this,void 0,void 0,function*(){const n=t.name.toString(),a="object"==typeof o?o[n]:o;return e.log(`User submit ${a} to ${n}`),yield i[n](a),!1})})})},function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(i(1)),c=i(0);t.yes_no_default=[{title:"Default",value:void 0},{title:"Yes",value:!0},{title:"No",value:!1}],t.SetOrDefault=((e,t)=>n(this,void 0,void 0,function*(){if(void 0===t.value||t.default&&t.default(t.value))return yield c.Delete(e,t.domain,t.name);{const i=t.value;let n="";return"number"==typeof i?n=i%1==0?"-int":"-float":"boolean"==typeof i?n="-bool":"string"==typeof i&&(n="-string"),yield c.Write(e,t.domain,t.name,n,t.value)}})),t.PrintStartCommand=((e,t,i)=>{console.log(),e.info(a.default.blueBright(`Start setup ${t} ${i}...`),a.default.redBright("[cancel by ctrl+c]"))})},function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=i(5),c=n(i(8)),l=o(i(9));c.default.help("h").alias("h","help").showHelpOnFail(!0,"Invalid command or option").usage("Usage: $0 <argument> [options...]").epilog("Copyright 2018Â©").strict(),c.default.option({verbose:{alias:"V"}});const s=l;Object.keys(s).forEach(e=>{const t=s[e];c.default.command({command:(()=>{if(!t.subcommand)return t.name;let e="";return t.subcommand.require&&(e+=Object.keys(t.subcommand.require).reduce((e,t)=>e+`<${t}> `,"")),t.subcommand.optional&&(e+=Object.keys(t.subcommand.optional).reduce((e,t)=>e+`[${t}] `,"")),`${t.name} ${e.trim()}`})(),describe:t.desc||t.description,builder:e=>(t.option&&Object.keys(t.option).forEach(i=>{t.option&&e.option(i,t.option[i])}),t.demandOption&&e.demandOption(t.demandOption),t.subcommand&&(t.subcommand.require&&Object.keys(t.subcommand.require).forEach(i=>{t.subcommand&&t.subcommand.require&&e.positional(i,t.subcommand.require[i])}),t.subcommand.optional&&Object.keys(t.subcommand.optional).forEach(i=>{t.subcommand&&t.subcommand.optional&&e.positional(i,t.subcommand.optional[i])})),t.help&&(t.help.usage&&e.usage(t.help.usage),t.help.example&&e.example(t.help.example.command,t.help.example.desc||t.help.example.description||""),t.help.epilog&&e.epilog(t.help.epilog)),e),handler:e=>t.action(a.log,e)})});c.default.argv},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const n=i(6),o=i(7);class a{log(...e){}debug(...e){}info(...e){}warn(...e){}error(...e){}}t.NullLogger=a;class c{constructor(e){this.logs={},this._set(e)}_set(e){const t=e&&e.console&&e.console.normal||o.normalConsoleSetting,i=e&&e.console&&e.console.color||o.colorConsoleSetting,a=e&&e.file||o.fileSetting;return t&&(this.logs.normal=n.console(t)),i&&(this.logs.color=n.colorConsole(i)),a&&(this.logs.file=n.dailyfile(a)),this}setup(e){o.colorConsoleSetting.level=e.verbose?"log":"info",this.logs.color=n.colorConsole(o.colorConsoleSetting)}only(e){return this.logs[e]||new a}_all(e,...t){this.only("normal")[e](...t),this.only("color")[e](...t),this.only("file")[e](...t)}log(...e){this._all("log",...e)}debug(...e){this._all("debug",...e)}info(...e){this._all("info",...e)}warn(...e){this._all("warn",...e)}error(...e){this._all("error",...e)}}c.CONST=new c,t.Logger=c,t.log=c.CONST},function(e){e.exports=require("tracer")},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalConsoleSetting=void 0,t.colorConsoleSetting={format:"{{timestamp}}: [{{title}}] {{message}}",dateformat:"HH:MM:ss.L"},t.fileSetting={root:"/tmp",maxLogFiles:5}},function(e){e.exports=require("yargs")},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(10);t.Setup=n.default},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const n=i(11);t.default={name:"setup",subcommand:{require:{kind:{desc:"What kind of setup do you want?",choices:["new-mac","old-mac"]}}},description:"Show hello to person name",option:{internet:{alias:"I",desc:"Setup with internet access",type:"boolean",default:!0}},action(e,t){e.setup(t);const i=t.internet;switch(t.kind){case"new-mac":e.debug(`Setup new mac ${i?"with":"without"} internet`),n.SetupNewMac(e,i);break;case"old-mac":e.debug(`Setup new mac ${i?"with":"without"} internet`);break;default:e.debug("Setup with unknown setting")}},help:{example:{command:"$0 setup new-mac",desc:"Run setup command for new mac with internet"}}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const n=i(12);t.SetupNewMac=((e,t)=>{e.log(`Starting... setup ${t}`),n.MacSystem(e,t,{})})},function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i(1)),a=i(13),c=i(16),l=i(17);t.MacSystem=((e,t,i)=>{e.info(o.default.blueBright.bold("Start setup Mac system...")),a.Dock(e,i).then(()=>c.Dashboard(e,i)).then(()=>l.Finder(e,i))})},function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),a=i(0),c=i(3);t.Dock=(e=>{c.PrintStartCommand(e,"Mac","Dock");const t="com.apple.dock";return o.Ask(e,[{help:"Position on the screen where the Dock is located.",type:"select",name:"position",message:"Dock position",choices:[{title:"Default",value:"default"},{title:"Bottom",value:"bottom"},{title:"Right",value:"right"},{title:"Left",value:"left"}],action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"orientation",value:i,default:e=>"default"===e})})},{help:"Show indicator lights for open applications.",type:"toggle",name:"indicator_light",message:"Indicator light",initial:!0,active:"On",inactive:"Off",action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"show-process-indicators",value:i})})},{help:"Defines the animation which is used to show windows being minimized into the Dock.",type:"select",name:"mineffect",message:"Minimization effect",initial:1,choices:[{title:"Default",value:"default"},{title:"Suck",value:"suck"},{title:"Scale",value:"scale"},{title:"Genie",value:"genie"}],action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"mineffect",value:i,default:e=>"default"===e})})},{help:"Hides the Dock when the mouse cursor is not in its general vicinity, and slides it open when it is.",type:"select",name:"auto_hide",message:"Automatically show and hide dock",initial:1,choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"autohide",value:i,default:e=>void 0===e})})},{help:"How long before the Dock automatically hides when the mouse cursor exits its location. Entering a value of zero will disable the delay.",type:e=>!0===e?"number":void 0,name:"auto_hide_delay",message:"Auto hide delay",initial:0,increment:.1,min:-1,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"autohide-delay",value:i,default:e=>e<0})})},{help:"The speed at which the Dock animates closed. Reduce this number to zero to have the Dock snap without any animation.",type:e=>void 0!==e?"number":void 0,name:"auto_hide_speed",message:"Auto hide speed",initial:.2,increment:.1,min:-1,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"autohide-time-modifier",value:i,default:e=>e<0})})},{help:"While applications are loading, bounce their icons in the Dock.",type:"select",name:"bounce_icons",message:"Bounce icon when launch",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"launchanim",value:i,default:e=>void 0===e})})},{help:"When applications request attention, normally the Dock will bounce the icon of that application. This feature prevents any bouncing animation from happening.",type:"select",name:"prevent_bounce_icons_when_need_attention",message:"PREVENT bouncing icon when need attention",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"no-bouncing",value:i,default:e=>void 0===e})})},{help:"Empties the contents of the Dock and forcibly shows only open applications.",type:"select",name:"hide_when_not_open",message:"Hide icon in dock when app not open",initial:2,choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"static-only",value:i,default:e=>void 0===e})})},{help:"Instead of minimizing windows to the right side of the Dock, windows are minimized into the icon of the application they belong to. To access these minimized windows, right click the Dock icon for that application.",type:"toggle",name:"mini_to_icon",message:"Minimize application into icon",initial:!0,active:"Yes",inactive:"No",action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"minimize-to-application",value:i})})},{help:"Manually set the size of the icons in the Dock. If negative number will be factory reset",type:"number",name:"icon_size",message:"Icon size",initial:79,min:-1,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"tilesize",value:i,default:e=>e<0})})},{help:"Icons in the Dock will enlarge when the mouse hovers over them.",type:"select",name:"enable_mag",message:"Magnification",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"magnification",value:i,default:e=>void 0===e})})},{help:"The size, in pixels, of the icons when the mouse hovers over items in the Dock.",type:e=>!0===e?"number":void 0,name:"mag_size",message:"Magnification size",initial:(e,t)=>t.icon_size+1,min:-1,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"largesize",value:i,default:e=>e<0})})},{help:"While hovering over top of an icon in the Dock, use the scroll wheel on the mouse, or use the scroll gesture on the track pad to expose all the windows in the app.",type:"select",name:"scroll_expose_window",message:"Scroll to show window",initial:1,choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"scroll-to-open",value:i,default:e=>void 0===e})})},{help:"When switching between applications by clicking app icons in the Dock, all other apps are hidden in the background.",type:"select",name:"single_mode",message:"Single application mode",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"single-app",value:i,default:e=>void 0===e})})}]).then(()=>{a.Reset(e,"Dock")})})},function(e){e.exports=require("prompts")},function(e){e.exports=require("execa")},function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),a=i(0),c=i(3);t.Dashboard=(e=>(c.PrintStartCommand(e,"Mac","Dashboard"),o.Ask(e,[{help:"Completely disable Dashboard.",type:"select",name:"disable_dashboard",message:"Disable dashboard",choices:c.yes_no_default,action:t=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:"com.apple.dashboard",name:"mcx-disabled",value:t,default:e=>void 0===e})})}]).then(()=>{a.Reset(e,"Dock")})))},function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(c,l)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),a=i(0),c=i(3);t.Finder=(e=>{c.PrintStartCommand(e,"Mac","Finder");const t="com.apple.finder";return o.Ask(e,[{help:"Reveals hidden files that begin with a period or are flagged specifically as hidden.",type:"toggle",name:"show_hidden_files",message:"Show Hidden files",active:"Yes",inactive:"No",action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"AppleShowAllFiles",value:i})})},{help:"Play sound effects for common user actions such as emptying the Trash.",type:"select",name:"play_sound",message:"Play sound effects",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"FinderSounds",value:i,default:e=>void 0===e})})},{help:'Disable all interface animations in the Finder. On Snow Leopard (Mac OS X 10.6) and later, this does not disable the "snap to grid" animation.',type:"select",name:"animations",message:"Disable animations",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"DisableAllAnimations",value:i,default:e=>void 0===e})})},{help:"Allow icons to be shown on the Desktop.",type:"select",name:"icons_in_desktop",message:"Show icons in Desktop",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"CreateDesktop",value:i,default:e=>void 0===e})})},{help:'Gives the ability to quit the Finder without relaunching. This feature is shown in the "Finder" menu.',type:"select",name:"quit_finder",message:"Quit instead of relaunch",choices:c.yes_no_default,action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"QuitMenuItem",value:i,default:e=>void 0===e})})},{help:"The view mode of new Finder windows that do not already have a custom view set.",type:"select",name:"finder_view_mode",message:"Finder default view mode",initial:1,choices:[{title:"Default",value:"default"},{title:"List view",value:"Nlsv"},{title:"Icon view",value:"icnv"},{title:"Column view",value:"clmv"},{title:"Cover flow view",value:"Flwv"}],action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"FXPreferredViewStyle",value:i,default:e=>"default"===e})})},{help:"The default folder view mode to display search results.",type:"select",name:"finder_search_view_mode",message:"View mode for search result",initial:1,choices:[{title:"Default",value:"default"},{title:"List view",value:"Nlsv"},{title:"Icon view",value:"icnv"},{title:"Column view",value:"clmv"},{title:"Cover flow view",value:"Flwv"}],action:i=>n(this,void 0,void 0,function*(){return yield c.SetOrDefault(e,{domain:t,name:"FXPreferredSearchViewStyle",value:i,default:e=>"default"===e})})}]).then(()=>{a.Reset(e,"Finder")})})}]);